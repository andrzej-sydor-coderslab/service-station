<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Order Details</title>
    <link rel="stylesheet" th:href="@{css/myStyle.css}" type="text/css">
</head>
<body>
<div th:include="header.html"></div>
<div class="main">

    <h3 class="title">Order Details</h3>

    <p><span>Title:</span> <span th:text="${order.title}"></span></p>

    <p><span>Diagnosis:</span> <span th:text="${order.initialDiagnosis}"></span></p>

    <p><span>Planned repair start:</span> <span th:text="${order.plannedRepairStart}"></span></p>

    <p><span>Actual repair start:</span> <data th:if="${order.status.id==1}"> <a th:href="@{'/orders/change-status/2/'+${order.id}}">Click to start</a> </data>
        <span th:if="${order.status.id>1}"> <data th:text="${order.actualRepairStart}"></data> </span></p>

    <p><span>Status:</span> <span th:text="${order.status.getDescription()}"></span></p>

    <p><span>Price of service:</span> <span th:text="${order.priceOfService}"></span></p>

    <p><span>Created:</span> <span th:text="${order.created}"></span></p>

    <p><span>Last update:</span> <span th:text="${order.updated}"></span></p>

    <p><span>Employee(s) assigned to order:</span>
    <ul>
        <li th:each="employee : ${employeesAssignedToOrder}">
            <a th:text="${employee.firstName + ' ' + employee.lastName}"
               th:href="@{'/employees/details/'+${employee.id}}"></a>
        </li>
    </ul>
    </p>

    <p><span>Additional notes:</span> <span th:text="${order.note}"></span></p>

    <p><a class="editLink" th:href="@{'/orders/update/' + ${order.id}}">Edit mode</a></p>

    <p><a class="deleteLink" th:href="@{'/orders/delete/' + ${order.id}}">Delete order</a></p>

    <input type="button" value="Back" class="button"
           onclick="window.location.href='/'">
</div>
</body>
</html>